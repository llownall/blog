+++
title = 'Хостим домашний публичный сервер'
date = 2024-01-04T10:00:00+07:00
draft = false
+++

# Что делаем
Захотелось мне иметь дома сервер на базе мини-пк с великой мощностью по меркам VPS
(Ryzen 7 5700U, 16/ 512 NVMe + возможность поставить HDD через USB 3.0), но есть некоторые домашние НО:
1. серый айпи
2. возможная нестабильность
3. ... - оставлю место для будущих непредвиденных проблем

В этом посте я опишу, как решаю проблему #1

# Решаем

Решить серость айпи можно несколькими способами: DynDNS, ngrok (наверно, краем уха слышал), покупка белого айпи 
у провайдера. Но поскольку у меня итак есть VPS, я буду использовать его.

Суть метода заключается в поднятии VPN сети между VPS и домашним сервером. Поступающий трафик проксируется с VPS 
на домашний сервер.

## Действия

### Создаем Wireguard VPN сервер на VPS
Пропускаю этот шаг, поскольку использую VPS как раз для этих целей и VPN сервер там уже есть.
Кстати я использую [wg-easy](https://github.com/wg-easy/wg-easy)

### Подключаем наш домашний сервер к VPN
...

### Настраиваем проксирование внешнего трафика
Последнее время в качестве прокси-сервера я всегда использую nginx. В этот раз всё без изменений.

